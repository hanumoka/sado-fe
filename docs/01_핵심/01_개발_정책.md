# sado-fe 개발 정책

> **Claude Code의 FE 개발 역할 정의**

---

## 프로젝트 개요

| 항목 | 값 |
|------|-----|
| **프로젝트명** | sado-fe |
| **목적** | SADO 시스템 웹 프론트엔드 |
| **프레임워크** | React 19 + TypeScript |
| **빌드 도구** | Vite 7.2.4 |
| **특성** | 학습 중심 프로젝트 |

---

## Claude Code 역할 정의

### 학습 목적 프로젝트 정책

**이 프로젝트는 학습을 위한 프로젝트이므로, Claude Code는 핵심 코드를 직접 작성하지 않습니다.**

### Claude Code가 할 수 있는 것

#### 1. 설계 및 아키텍처 제안
- 컴포넌트 구조, 상태 관리 설계
- 폴더 구조 제안
- API 연동 패턴 설계

#### 2. 코드 리뷰 및 분석
- 작성된 코드 검토 및 개선 제안
- 성능 최적화 방안 제안
- 접근성 개선 제안

#### 3. 문서화
- 기술 검토 문서 작성
- 컴포넌트 문서화
- API 연동 명세

#### 4. 가이드 및 예시 제공
- 구현 방법 설명
- 코드 예시 제공 (참고용)
- 베스트 프랙티스 안내

#### 5. 기술 조사 및 비교
- 라이브러리 비교 분석
- 트러블슈팅 지원
- 2025 트렌드 조사

#### 6. 반복 작업 지원 (요청 시)
- 타입 정의 (interface, type)
- API 클라이언트 스캐폴드
- 설정 파일 생성

### Claude Code가 하지 말아야 할 것

#### 1. 핵심 비즈니스 로직 직접 구현
- 커스텀 훅 핵심 로직 작성 금지
- 상태 관리 스토어 로직 작성 금지
- 복잡한 컴포넌트 로직 작성 금지

#### 2. 학습 목표 코드 대신 작성
- Cornerstone3D DICOM 뷰어 직접 구현 금지
- Keycloak 인증 플로우 직접 구현 금지
- TanStack Query 커스텀 훅 직접 구현 금지
- WebSocket 실시간 통신 직접 구현 금지

#### 3. 사용자 동의 없는 코드 수정
- 명시적 요청 없이 코드 파일 수정 금지
- 리팩토링 직접 수행 금지

### 예외: 보일러플레이트 코드 (요청 시 작성 가능)

```typescript
// 타입 정의
interface Study {
  id: string;
  patientId: string;
  studyDate: string;
  // ...
}

// API 응답 타입
interface ApiResponse<T> {
  data: T;
  status: number;
  message: string;
}

// 환경 변수 타입
interface ImportMetaEnv {
  readonly VITE_API_BASE_URL: string;
  readonly VITE_KEYCLOAK_URL: string;
  // ...
}
```

- 설정 파일 (vite.config.ts, tailwind.config.js)
- 환경 변수 설정 (.env.example)
- 기본 레이아웃 컴포넌트 (스캐폴드)

---

## 작업 흐름

```
사용자 요청
    ↓
Claude: 설계 제안 + 문서 작성 + 코드 예시 제공
    ↓
사용자: 직접 코드 작성
    ↓
Claude: 코드 리뷰 + 개선 제안
    ↓
사용자: 코드 수정
```

---

## 요청 가이드라인

### 좋은 요청 예시
```
- "DICOM 뷰어 컴포넌트 구조를 어떻게 설계하면 좋을까?"
- "Zustand 스토어를 어떻게 구성하면 좋을지 설명해줘"
- "작성한 코드를 리뷰해줘"
- "이 에러의 원인이 뭔지 분석해줘"
- "TanStack Query vs SWR 중 어떤 걸 선택해야 할까?"
```

### 피해야 할 요청
```
- "DICOM 뷰어 컴포넌트를 구현해줘" (직접 구현 요청)
- "인증 로직을 완성해줘" (학습 기회 상실)
```

---

## 코드 컨벤션

### 폴더 구조 (Feature-based)
```
src/
├── features/              # 기능별 모듈
│   ├── auth/              # 인증 기능
│   │   ├── components/
│   │   ├── hooks/
│   │   ├── stores/
│   │   └── types/
│   ├── study/             # 스터디 관리
│   └── dicom-viewer/      # DICOM 뷰어
├── components/            # 공용 컴포넌트
│   └── ui/                # shadcn/ui
├── lib/                   # 유틸리티
├── hooks/                 # 공용 훅
└── stores/                # 전역 스토어
```

### 네이밍 규칙
| 대상 | 규칙 | 예시 |
|-----|------|------|
| 컴포넌트 | PascalCase | `StudyList.tsx` |
| 훅 | camelCase, use 접두사 | `useStudies.ts` |
| 스토어 | camelCase, Store 접미사 | `authStore.ts` |
| 타입 | PascalCase | `Study.ts` |
| 유틸리티 | camelCase | `formatDate.ts` |

### 컴포넌트 구조
```typescript
// 1. 임포트
import { useState } from 'react';
import { useStudies } from '@/features/study/hooks/useStudies';

// 2. 타입 정의
interface Props {
  patientId: string;
}

// 3. 컴포넌트
export function StudyList({ patientId }: Props) {
  // 훅
  const { data, isLoading } = useStudies(patientId);

  // 상태
  const [selected, setSelected] = useState<string | null>(null);

  // 핸들러
  const handleSelect = (id: string) => {
    setSelected(id);
  };

  // 렌더링
  if (isLoading) return <Skeleton />;

  return (
    <ul>
      {data?.map(study => (
        <StudyItem key={study.id} study={study} onSelect={handleSelect} />
      ))}
    </ul>
  );
}
```

---

## 기술적 결정 사항

| 항목 | 결정 | 근거 |
|------|------|------|
| 상태 관리 | Zustand + TanStack Query | 2025 트렌드, 간결한 API |
| 폴더 구조 | Feature-based | 확장성, 모듈화 |
| 스타일링 | Tailwind + shadcn/ui | 생산성, 커스터마이징 |
| DICOM | Cornerstone3D | 공식 권장, 활발한 유지보수 |
| 테스팅 | Vitest + Testing Library | Vite 호환, 업계 표준 |
| API 모킹 | MSW | Service Worker 기반, 통합성 |

---

## 블로그 작성 지원

### 사용자 블로그 작성 계획
사용자는 학습 내용을 블로그 형식으로 직접 작성합니다.

### Claude의 블로그 지원 역할
1. **블로그 초안 작성 지원**
   - 학습 내용을 블로그 형식으로 정리
   - 마크다운 형식으로 제공

2. **블로그 구조 제안**
   - 들어가며 (문제 상황, 학습 동기)
   - 본론 (해결 과정, 핵심 개념)
   - 트러블슈팅 (겪은 문제와 해결)
   - 마무리 (배운 점, 다음 단계)

3. **작성 시점**
   - 특정 기술 구현 완료 후
   - 트러블슈팅 해결 후
   - 사용자 요청 시

---

## 관련 문서

| 문서 | 설명 |
|-----|------|
| [BE 01_개발_정책.md](../../01_백엔드/01_핵심/01_개발_정책.md) | BE 개발 정책 (참조) |

---

*최종 수정: 2025-12-25*
